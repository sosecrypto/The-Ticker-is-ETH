어제 이더리움의 Justin Drake가 주최한 시퀀싱 콜 #17에서, Based / Native Rollup에 대한 광범위한 논의가 이루어졌습니다. 롤업들은 Justin의 제안에 대해 어떻게 생각하고 있었을까요?

배경지식

Based Rollup

기존 롤업들은 거의 모두 중앙화된 시퀀서를 가지고 있습니다. 시퀀서가 중앙화되어 있다고 해서 해당 시퀀서가 사용자들의 자금을 마음대로 훔쳐가거나 할 수는 없습니다만, 중앙화된 시퀀서는 검열이나 나쁜 MEV 추출과 같은 행위들을 할 수 있으며, 이는 롤업 사용자들의 UX를 더 나쁘게 만들 수 있습니다.

Based Rollup은 이더리움에 롤업 시퀀싱을 맡기는 것입니다. 정확히 말하면 L1 트랜잭션들의 시퀀싱을 맡는 프로포저가 롤업들의 트랜잭션도 같이 시퀀싱하는 구조를 의미하며, 시퀀서가 탈중앙화되어 있다는 것이 특징입니다. 이는 롤업에게 다음과 같은 두 가지 중요한 이점을 가져다 줄 수 있습니다.

1. 더 높은 검열 저항 - 시퀀서가 여러 명이기 때문에, 더 높은 검열 저항성을 달성할 수 있습니다.

2. 타 based rollup 과의 상호 운용성 - 공유 시퀀서 구조처럼, 단일한 L1 프로포저가 여러 based rollup의 시퀀싱을 담당하면, 높은 수준의 상호운용성을 달성할 수 있습니다.

Native Rollup

일반적으로 L2들은 주기적으로 상태 루트를 L1에 게시합니다. 이 상태 루트가 올바른지 여부를 판단하는 작업은 주로 스마트 컨트랙트를 통해 검증되며, 그 스마트 컨트랙트는 각 롤업의 Security Council에 의해 업그레이드가 가능합니다. 즉, Security Council이 나쁜 마음을 먹으면 악의적인 상태 루트가 검증을 통과하도록 컨트랙트를 업그레이드할 수 있고, 이 경우 롤업 내 사용자의 자산이 탈취될 수 있습니다.

Native Rollup은 이 상태 루트의 검증을, 이더리움 내의 프리컴파일 컨트랙트로 진행하는 롤업을 의미합니다. 프리컴파일 컨트랙트의 업그레이드는 오직 이더리움의 하드포크를 통해서만 가능하기 때문에, 컨트랙트의 업그레이드 권한이 Security Council이 아니라 L1 밸리데이터의 과반수에 있는 것과 같습니다. 즉, Native Rollup은 이더리움의 보안을 ‘완전히’ 상속받을 수 있습니다.

두 프레임워크의 단점

이 두 가지가 다른 형태의 롤업보다 항상 좋은 것은 당연히 아닙니다. Based Rollup은 다음 두 가지 단점이 있습니다.

- L1에 데이터를 매우 자주 올려야 하기 때문에 사용자 혹은 롤업 운영자가 비용을 많이 지불해야 합니다.

- 기존 중앙화된 시퀀서 구조보다 가용성이 떨어질 수 있습니다. 예를 들어, 어느 L1 프로포저가 L2 시퀀싱에 실패할 수 있으며, 이 경우 L2 블록에 리오그가 발생해 상태가 되돌려지거나 체인이 멈출 수 있습니다.

Native Rollup은 획일화된 검증 방식으로 인해 L2에서 EVM에 없는, 혁신적인 피처를 도입하기 어려워질 수 있다는 단점이 존재합니다.

각 롤업들의 반응

Optimism

- OP Stack에 based / native rollup 피처를 넣겠다고 선언하였습니다.

- 비용이나 UX와 같은 여러 조건들이 허용 가능한 수준으로 최적화가 된다면, OP Mainnet 및 Superchain도 based / native rollup으로 전환할 수 있습니다.

- 위 조건들을 맞추기 위해, 여러 방면으로 노력을 지속할 것이라고 밝혔습니다.

Namechain (ENS 체인)

- Based sequencing에 매우 불리쉬하며, based rollup으로 런칭하고 싶다는 의지를 밝혔습니다.

- 만약 현실적인 이유로 based rollup으로 런칭하지 못한다고 하더라도, Namechain은 향후에 해당 구조로 전환할 계획을 갖출 것이라고 이야기하였습니다.

Unichain (Hayden Adams는 건강 상 콜에 불참, Justin Drake가 대신 이야기)

- 유니스왑 측은 ‘불변성’이 보안에 매우 좋다고 생각하고 있습니다. 이에 따라, 유니스왑의 모든 컨트랙트는 fee switch 파트를 제외하고 모두 불변하게끔 짜여져 있습니다.

- 이러한 관점에서 Hayden은 Native Rollup의 불변성과 높은 보안 수준을 매우 좋게 생각하고 있다고 합니다.

Offchain Labs

- Steven은 처음 Native Rollup 제안을 보고, 해당 제안이 L2들의 유연성을 해칠 수 있다고 생각했습니다. 예를 들어 L2들은 EVM에 없는 새로운 기능을 추가하여 더욱 좋은 사용자 혹은 개발자 경험을 제공할 수 있는데, Native Rollup은 이러한 혁신의 속도에 제한을 걸 수 있다는 논점입니다.

- 다만 이후 비탈릭이 ‘Native Rollup에서 쓰이는 프리컴파일에만 의존하지 말고, 상태 루트 검증의 일부분은 다른 데서 수행할 수 있도록 확장하자’고 제안하였는데, 이는 매우 좋아보인다고 이야기하였습니다.

Scroll

- Scroll 역시 Scroll 메인넷 및 SDK에 based / native rollup 기능을 추가할 수 있다고 이야기하였습니다.

- 다만 Optimism과 마찬가지로, 실제 프로덕션 레벨에서 사용되려면 성능 및 유연성 등의 이슈들이 해결되어야 할 것 같다는 입장입니다.

FABRIC

- Based Rollup을 위한 오픈 소스 프로젝트이며, 롤업 혹은 롤업 프레임워크가 아닌 based rollup의 필수 컴포넌트를 구현한 형태이라고 생각됩니다.

- Commit-Boost를 만든 Drew가 주도하고 있으며, 일종의 ‘Based Rollup 표준’이 될 가능성이 높아보입니다. 향후 PBS 아키텍처 / Commit-Boost 등과 호환을 갖추어 사용될 것으로 예상됩니다.

- Taiko, Openzeppelin, Puffer 등 여러 롤업 및 테크 기업에서 여기에 기여하고 싶다는 의지를 내비쳤습니다.

정리하자면 다음과 같습니다.

- Optimism, Taiko, FABRIC, Namechain 등의 R&D 노력을 통해 2025년 Based Rollup의 도입이 매우 빠르게 이루어질 가능성이 높아 보입니다.

- Native Rollup은 1년 전 Based Rollup이 제안되었을 때와 유사한 반응을 얻고 있으며, 1년 안에 주요 롤업들이 적용할 만한 구조가 등장할 것이라고 생각됩니다.