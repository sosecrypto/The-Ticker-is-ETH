지난주 L2Beat에서 ‘Stage 1 기준에 한 가지 항목을 추가하자’는 제안이 올라왔습니다. 비상 상황에서 보안 위원회(Security Council)가 사용자들의 출금에 제한을 둘 수 있다면, 이는 Stage 1 롤업으로 불릴 수 없게 만들자는 것입니다.

[배경 설명: 무엇이 Stage 1 롤업인가]

L2Beat는 이더리움 롤업의 탈중앙화·신뢰 최소화 수준을 기준으로 롤업을 3단계로 분류합니다.

- Stage 0: 초기 단계, 운영자/관리자 신뢰가 큼

- Stage 1: 부분적으로 탈중앙화, 핵심 안전장치가 작동

- Stage 2: 완전 탈중앙화, 신뢰 최소화 완성

Stage 1 롤업은 탈중앙화로 가는 중간 단계이며, 사용자 자금을 보호할 수 있는 실질적 안전장치가 이미 작동하는 상태를 의미합니다. 가장 대표적으로, L2Beat는 Stage 1 롤업의 요구 조건으로 ‘잘 셋업된 보안 위원회’를 요구합니다. 보안 위원회는 체인의 업그레이드 권한을 가진 멀티시그로, Stage 1이 되려면 보안 위원회의 크기가 8명 이상, 그리고 투표 정족수는 75% 이상이어야 합니다. 즉, 8명 중 25%만 정직하더라도 사용자 자금이 안전한 것이죠.

[강제 출금과 보안 위원회]

이와 별개로, 체인이 운영을 중단한다거나 문제가 생겼을 때 사용자는 본인의 자금을 롤업에서 출금할 수 있어야 하며, 이는 누구도 검열할 수 없게끔 이뤄져야 합니다. 이를 일반적으로 ‘강제 포함(forced inclusion)’이라고 부릅니다.

그런데 몇몇 ZK 롤업 중에선 보안 위원회의 권한을 이 강제 포함에까지 확장한 체인들이 있습니다. 대표적인 케이스로 스타크넷과 스크롤이 있죠.

1) 스타크넷

스타크넷은 ZK 증명을 생성해 L1에 제출할 수 있는 권한을 퍼블릭하게 개방하지 않은 구조를 가지고 있습니다. 이로 인해 시퀀서가 특정 사용자의 트랜잭션을 검열할 경우, 사용자가 직접 이를 우회해 증명을 제출할 수는 없습니다.

이러한 검열 가능성을 완화하기 위해, 스타크넷은 보안 위원회를 활용합니다. 만약 사용자가 검열을 당하면, 해당 사용자는 보안 위원회에 연락해 자신의 트랜잭션을 강제로 포함해 달라고 요청할 수 있습니다.

보안 위원회 구성원 중 25% 이상이 정직하다면, 이들은 검열당한 사용자의 트랜잭션을 포함해 블록과 상태 루트를 생성하고, 이에 대한 ZK 증명을 만들어 L1에 제출할 수 있습니다. 이 방식으로 스타크넷은 시퀀서가 검열을 수행하더라도, 사용자의 트랜잭션이 최종적으로 처리될 수 있는 경로를 제공하고 있습니다.

2) 스크롤

스크롤은 스타크넷과 달리, 일정 기간 동안 트랜잭션 검열이 지속될 경우 누구나 ZK 증명을 생성해 L1에 제출할 수 있는 무허가 강제 포함 메커니즘을 구축해두었습니다. 이를 통해 시퀀서가 검열을 수행하더라도, 외부 참여자가 직접 트랜잭션을 포함시켜 체인의 진행을 복구할 수 있습니다.

다만 스크롤은 예상치 못한 버그나 치명적인 오류에 대비해, 팀이 컨트롤하는 멀티시그가 체인의 트랜잭션 데이터 게시 및 증명 제출을 일시적으로 중단할 수 있는 권한을 가지고 있습니다. 이 권한이 행사될 경우, 팀이 의도적으로 체인을 멈춘 상태를 장기간 유지할 수 있다는 위험이 존재합니다.

이를 완화하기 위해 스크롤은 보안 위원회를 두고 있으며, 보안 위원회 구성원 중 25% 이상이 동의할 경우 해당 체인 동결을 해제할 수 있도록 설계되어 있습니다.

반대로 말하면, 이러한 보안 위원회가 존재하지 않거나 작동하지 않는 상황에서는 체인이 동결된 상태에서 사용자의 자금이 영구적으로 락업될 가능성도 배제할 수 없습니다.

따라서, 위 기준이 새로 적용되면, 스타크넷과 스크롤은 Stage 1에서 강등당하게 됩니다. 아비트럼, 옵티미즘, 베이스 등 이미 무허가 강제 포함이 가능한 롤업들은 그대로 Stage 1을 유지하게 되구요.

이러한 조정은 올해 초 도입된 새로운 Stage 1 기준을 과도하게 ‘형식적으로 충족’하는 행위를 방지하기 위한 것입니다. 이전에 새로 도입되었던 항목은 

(버그를 제외하고) 롤업이 L2→L1 메시지(예: 인출)를 무기한 차단하거나 유효하지 않은 출금을 허용하는 유일한 방법은 안전보장이사회의 75% 이상을 침해하는 것.

이었습니다. 말을 그대로 해석하면, 스타크넷같이 보안 위원회에 의존한 강제 포함도 기준을 충족한다고 볼 수는 있습니다. 그러나 L2Beat 팀은 이 기준이 도입된 이후, 일부 팀들이 증명 시스템을 강화하거나 무허가 강제 포함 알고리즘을 구현하는 데 투자하기보다는, 해당 조건을 최소한으로 충족하는 방향으로만 설계를 맞추려는 경향을 보였다고 지적합니다.

폐쇄적으로 운영되는 여러 L1과 달리, 이더리움은 L2Beat와 같은 공개적인 프레임워크를 통해 L2 생태계의 보안 기준을 지속적으로 명문화하고 상향하려는 방향성을 보여주고 있습니다. L2를 쓰시는 분들은 L2Beat에 종종 들어가 각 롤업의 통계뿐만 아니라 보안 가정이 어떠한지도 살펴보시면 좋을 듯 하네요!

+ 개인적으로 이제 내년에는 슬슬 Stage 2 혹은 그와 유사한 수준의 보안을 달성하는 롤업이 등장했으면 좋겠습니다!