무어의 법칙은 기술이 약 2년마다 두 배로 발전한다는 경험칙입니다. 하지만 오늘날 이더리움의 ZK 기술은 그 속도를 훌쩍 넘어선 걸로 보입니다. 이 추세라면, 수천 TPS에 해당하는 L1 스케일링은 더 이상 먼 미래의 이야기가 아닐 수도 있습니다.

Brevis는 오늘 이더리움 실시간 증명을 위한 최첨단 zkVM인 피코 프리즘(Pico Prism)을 발표했습니다. 피코 프리즘은 현재 이더리움 블록에 대해 64개의 RTX 5090 GPU를 통해 증명을 생성하는 데에 평균 6.9초밖에 걸리지 않으며, 99.6%의 블록을 12초 내에 증명 가능합니다.

지난 5월, 서싱트가 발표한 하이퍼큐브는 160개의 RTX 4090을 사용하여 94%의 이더리움 블록을 12초 내에 증명하는 데에 성공했습니다. 불과 5개월만에 업계는 절반의 비용으로 더 높은 속도를 달성하는데 성공했죠.

왜 12초 내에 ZK 증명을 생성하는 것이 중요할까요? 이는 이더리움이 완전히 ZK로 전환할 것이고, 이를 통해 L1에서 몇천 TPS를 달성할 생각이기 때문입니다. 자세한 방식은 다음과 같습니다.

모든 L1들은 여러 개의 노드로 구성되어 있으며, 블록을 모든 노드가 재실행하는 방식으로 검증을 수행합니다. 이때 트랜잭션을 실행해보는 것은 꽤 높은 컴퓨팅 리소스를 요구할 수 있죠. 예를 들어, 하이퍼리퀴드의 밸리데이터가 되려면 32코어 및 64GB의 램이라는 높은 요구사항을 맞춰야 합니다.

이더리움은 이를 문제라고 정의하며, ’스마트워치에서도 이더리움 노드를 구동할 수 있는 미래‘를 꿈꿉니다. 이를 위해, 이더리움의 장기적인 로드맵에는 재실행이 아닌 ‘ZK 기반의 수학적 검증‘의 도입이 존재합니다. 누군가 블록과 함께 해당 블록이 잘 실행되었음을 나타내는 ZK 증명을 생성하고, 이 ZK 증명을 검증해보는 방식으로 합의를 이루는 것이죠. ZK 증명에 드는 비용은 재실행에 드는 비용보다 매우 작기 때문에 이 상황에서 노드들은 충분한 네트워크 리소스만 있다면 매우 작은 디바이스(스마트폰, 워치)에서도 블록을 검증해낼 수 있게 됩니다.

이 때문에 이더리움 블록의 실시간 증명은 매우 중요합니다. 매 블록이 지나기 전인 12초 내에 증명이 생성되어 밸리데이터들에게 전파되어야 하기 때문이죠. 그래서 zkVM들의 중요한 목표 중 하나는 ‘12초 내에 이더리움 블록을 증명할 수 있는가’입니다.

이 미래는 생각보다 오래 걸리지 않을 수도 있습니다. 후에 글로 다루겠지만, 12월 있을 후사카 업그레이드는 실시간 증명을 구현하기에 유리한 두 가지 EIP를 도입합니다.

1️⃣ EIP-7825

이 제안은 트랜잭션의 최대 크기를 현재 블록 가스 한도의 약 3분의 1 수준인 16.7M 가스로 제한합니다. 주요 목적은 과도하게 큰 트랜잭션으로 인한 네트워크 지연과 불안정성을 방지하는 것이지만, 이 제한은 zkVM이 블록을 작은 청크로 쪼개 병렬로 처리하는 데에도 유리하게 작용할 수 있습니다.

2️⃣ EIP-7823 & EIP-7883

이 두 제안은 MODEXP 프리컴파일의 최대 가스를 제한하고 가스 비용을 인상합니다. 직접적으로 zkVM을 위한 변경은 아니지만, 증명 생성 시 MODEXP 프리컴파일이 지나치게 오래 걸리는 문제를 완화하고, zkVM 관점에서 최악의 증명 시간 시나리오를 개선한다는 점에서 의미가 있습니다. 해당 EIP들은 MODEXP 사용을 자연스럽게 억제하고, ZK 친화적인 연산 구조로의 전환을 촉진하는 방향으로 작용할 것으로 예상됩니다.

저스틴 드레이크는 이러한 발전들을 기반으로 올해 말까지 16개의 GPU로 ‘집에서도 이더리움 블록을 모두 증명할 수 있는 환경’이 갖춰질 거라고 이야기하는데, 과연 가능할지 궁금하네요. 

The ticker is ETH 채널과 함께 zkVM의 발전도 팔로업해보시죠!

출처