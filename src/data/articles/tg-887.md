롤업 출금 기간 토론, 비탈릭은 왜 7일에서 1-2일로 줄이자는 걸까?

최근 비탈릭이 롤업의 출금 기간 변경과 관련한 제안을 포럼에 올렸습니다. 보안과 관련한 부분에서 좀 더 유연하게 적용하자는 느낌이라 신기하긴합니다. 이와 관련한 배경과 논의들을 정리해봤습니다.

7일의 유래와 문제점

이더리움 롤업의 출금 기간 7일은 2016년 EIP-608 긴급 하드포크 실행에 6일이 걸렸던 경험에서 나왔습니다. 51% 검열 공격 시 커뮤니티가 24시간 안에 감지하고 6일 동안 대응 포크를 조율한 뒤 사용자들이 1일 동안 사기 증명을 제출한다는 시나리오입니다.

문제는 유동성입니다. 사용자들은 7일을 기다리지 않고 유동성 공급자(솔버)를 통해 즉시 출금합니다. Across 프로토콜의 실제 사례를 보면, 어느 L2에서 1000만 달러 순유출 발생 시 솔버들은 7일 자본 잠금 불확실성 때문에 "영업 중단" 상태가 되었고, 이후 200bps(2%) 이상의 높은 수수료를 청구했습니다. 결국 사용자들은 USDC 같은 중앙화 브릿지를 쓸 수밖에 없고, 생태계는 의도치 않게 더 중앙화됩니다.

1-2일로 충분할까? 검열 공격에 대한 우려

비탈릭 부테린은 실제 역사를 보면 1-2일로 충분하다고 주장합니다. 2016년 합의 실패는 12시간 만에 복구됐고, 수면 시간 8시간을 더해도 극단적 상황에서 24시간 안에 사기 증명을 제출할 수 있습니다. 신규 노드 설치나 보안위원회 대응은 긴급 스위치로 7일 연장하면 해결됩니다.

하지만 donnoh는 챌린지 기간 단축이 공격 성공 확률을 높여 검증자들에게 "rug-up-boost"를 제공한다고 우려합니다. vbuterin은 1일 수준에서도 공격 비용(수백만 ETH 슬래싱)이 보상(L2 TVL)보다 훨씬 크다고 반박합니다.

Stage별 차등 적용과 경제적 장벽

비탈릭의 제안은 Stage 1과 2를 다르게 보는 것입니다. Stage 1은 이미 보안위원회 75% 해킹에 취약하므로, 51% 공격 저항성을 조금 낮추고 유동성을 개선하자는 것입니다. 실제로 수수료가 7일 200bps에서 1일 25bps, 1시간 2bps까지 떨어질 수 있습니다.

Stage 2는 이더리움 동등 보안이 목표이므로 7일을 유지하지만, 2-of-3 증명 시스템(ZK+TEE+OP)으로 구현되어 정상 상황에서는 즉시(10-60분) 출금됩니다. 7일은 예외 상황용 안전장치입니다.

문제는 2-of-3 증명 비용입니다. 현재 Stage 0/1 롤업들이 Stage 2로 가려면 (1) 7일 복귀로 UX 후퇴 또는 (2) 높은 증명 비용 부담을 선택해야 합니다. gluk64는 이것이 Stage 2 도달을 막는 반인센티브 장벽이 되고, 옵티미스틱 롤업의 PoA 성격을 정당화한다고 비판합니다.

다양한 논의

nambrot과 tim-clancy.eth는 이분법을 넘어서자고 제안합니다. 단순히 1일이냐 7일이냐가 아니라 더 정교한 정책을 만들 수 있습니다. 예를 들어 rate limit를 도입할 수 있습니다. 1일 윈도우에서는 TVL의 1%만 출금할 수 있고, 그 이상은 7일을 기다려야 합니다. 또는 작은 출금은 1일로 하고 큰 출금은 ZK+TEE 경로로만 허용해서 즉시 증명과 제한적 검열 능력을 결합할 수도 있습니다.

보안위원회 긴급 스위치도 단순히 1-2일을 7일로 늘리는 것만이 아닙니다. nambrot는 2-of-2나 3-of-3 멀티 증명 시스템이 악의적인 보안위원회 결정을 오버라이드할 수 있게 만들 수도 있다고 제안합니다. 

tim-clancy.eth 같은 실용주의자는 "코드가 법"이라면 51% 검열은 이미 시스템 실패라고 봅니다. 반면 gluk64 같은 원칙주의자는 Stage 2의 목표가 이더리움 동등 보안이라면 보안 메커니즘에 이중 잣대를 적용하면 안 된다고 봅니다. nambrot의 말처럼, 인터롭 전체의 혜택만으로도 이 변경은 가치가 있을 수 있습니다.

단기적으로는 보안위원회 긴급 스위치가 포함된 1-2일 출금을 Stage 1에 허용하고, 중기적으로는 Proof aggregation layer나 저렴한 ZK 증명으로 경제적 장벽을 낮추고, 장기적으로는 하이브리드 증명 시스템으로 10-60분 출금을 달성하는 것이 합의점이 될 수도 있습니다. 

비탈릭을 시작으로 롤업의 단기 유동성 개선과 장기 보안 원칙의 균형을 맞추기 위한 다양한 논의가 이뤄지고 있습니다. 여러분들은 이 제안에 대해 어떻게 생각하나요?

[https://ethereum-magicians.org/t/i-think-its-ok-to-allow-stage-1-rollups-shorter-withdrawal-windows-1-2-days-but-we-should-be-more-conservative-on-stage-2/26392](https://ethereum-magicians.org/t/i-think-its-ok-to-allow-stage-1-rollups-shorter-withdrawal-windows-1-2-days-but-we-should-be-more-conservative-on-stage-2/26392)