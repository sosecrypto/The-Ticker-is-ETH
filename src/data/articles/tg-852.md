이더리움은 현재의 '재실행' 기반 합의 구조를 'ZK 증명 검증'으로 바꾸어, 탈중앙화 / 검열 저항 / 보안의 희생 없이 초당 1기가가스 만큼의 확장성을 달성하려고 합니다.

오늘 이더리움 재단 산하의 zkEVM 팀은 이를 프로덕션에 적용하기 위한 연구 진행 상황에 대해 공유했습니다. 이더리움을 섣불리 ZK로 전환했다가는 여러 취약점들이 생길 수 있습니다. 

대표적인 공격 케이스는 'ZK 증명 생성이 어려운 명령어들을 매우 많이 집어넣는 DoS 공격'입니다. EVM 내 명령어 중 ZK에서 가장 악명이 높은 명령어는 이더리움에서 사용하는 해시 알고리즘인 keccak입니다. keccak 해시 알고리즘은 일반적인 상황에서는 매우 효율적이고 좋은 알고리즘이지만, 이에 대해 ZK 증명을 생성하는 것은 매우 리소스가 많이 드는 작업입니다. 이더리움이 합의 구조를 ZK 기반으로 넘긴 상황에서 누군가 keccak으로 가득찬 블록을 계속 제안한다면, ZK 증명 생성에는 오랜 시간이 걸릴 수도 있으며, 체인의 liveness에 문제가 생길 수 있죠.

이 때문에 이더리움 재단의 zkEVM 팀에서는 벤치마크를 통해 병목이 되는 구간을 식별하고, 실시간 증명을 원활하게 하기 위한 opcode 가격 변경 제안 등의 작업을 수행하고 있습니다.

곧 공유드릴 후사카 업그레이드에 대한 글에서도 보실 수 있겠지만, 이더리움의 L1 스케일링은 확실히 ZK에 초점이 맞춰져 있습니다. 이러한 벤치마크들이 확실히 이뤄져 공격 표면을 줄이고, 이더리움 메인넷이 안전하게 ZK로 전환해 높은 확장성을 달성할 수 있으면 좋겠네요.

출처